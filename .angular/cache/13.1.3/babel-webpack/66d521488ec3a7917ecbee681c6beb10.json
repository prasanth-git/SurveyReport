{"ast":null,"code":"import { InjectionToken, Injectable, Optional, Inject, NgModule } from '@angular/core';\nimport { DateAdapter, MAT_DATE_LOCALE, MAT_DATE_FORMATS } from '@angular/material/core';\nimport * as _rollupMoment from 'moment';\nimport _rollupMoment__default from 'moment';\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material-moment-adapter/adapter/moment-date-adapter.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/** @type {?} */\n\nimport * as ɵngcc0 from '@angular/core';\nconst moment = _rollupMoment__default || _rollupMoment;\n/**\n * Configurable options for {\\@see MomentDateAdapter}.\n * @record\n */\n\nfunction MatMomentDateAdapterOptions() {}\n\nif (false) {\n  /**\n   * When enabled, the dates have to match the format exactly.\n   * See https://momentjs.com/guides/#/parsing/strict-mode/.\n   * @type {?|undefined}\n   */\n  MatMomentDateAdapterOptions.prototype.strict;\n  /**\n   * Turns the use of utc dates on or off.\n   * Changing this will change how Angular Material components like DatePicker output dates.\n   * {\\@default false}\n   * @type {?|undefined}\n   */\n\n  MatMomentDateAdapterOptions.prototype.useUtc;\n}\n/**\n * InjectionToken for moment date adapter to configure options.\n * @type {?}\n */\n\n\nconst MAT_MOMENT_DATE_ADAPTER_OPTIONS = /*#__PURE__*/new InjectionToken('MAT_MOMENT_DATE_ADAPTER_OPTIONS', {\n  providedIn: 'root',\n  factory: MAT_MOMENT_DATE_ADAPTER_OPTIONS_FACTORY\n});\n/**\n * \\@docs-private\n * @return {?}\n */\n\nfunction MAT_MOMENT_DATE_ADAPTER_OPTIONS_FACTORY() {\n  return {\n    useUtc: false\n  };\n}\n/**\n * Creates an array and fills it with values.\n * @template T\n * @param {?} length\n * @param {?} valueFunction\n * @return {?}\n */\n\n\nfunction range(length, valueFunction) {\n  /** @type {?} */\n  const valuesArray = Array(length);\n\n  for (let i = 0; i < length; i++) {\n    valuesArray[i] = valueFunction(i);\n  }\n\n  return valuesArray;\n}\n/**\n * Adapts Moment.js Dates for use with Angular Material.\n */\n\n\nlet MomentDateAdapter = /*#__PURE__*/(() => {\n  class MomentDateAdapter extends DateAdapter {\n    /**\n     * @param {?} dateLocale\n     * @param {?=} _options\n     */\n    constructor(dateLocale, _options) {\n      super();\n      this._options = _options;\n      this.setLocale(dateLocale || moment.locale());\n    }\n    /**\n     * @param {?} locale\n     * @return {?}\n     */\n\n\n    setLocale(locale) {\n      super.setLocale(locale);\n      /** @type {?} */\n\n      let momentLocaleData = moment.localeData(locale);\n      this._localeData = {\n        firstDayOfWeek: momentLocaleData.firstDayOfWeek(),\n        longMonths: momentLocaleData.months(),\n        shortMonths: momentLocaleData.monthsShort(),\n        dates: range(31,\n        /**\n        * @param {?} i\n        * @return {?}\n        */\n        i => this.createDate(2017, 0, i + 1).format('D')),\n        longDaysOfWeek: momentLocaleData.weekdays(),\n        shortDaysOfWeek: momentLocaleData.weekdaysShort(),\n        narrowDaysOfWeek: momentLocaleData.weekdaysMin()\n      };\n    }\n    /**\n     * @param {?} date\n     * @return {?}\n     */\n\n\n    getYear(date) {\n      return this.clone(date).year();\n    }\n    /**\n     * @param {?} date\n     * @return {?}\n     */\n\n\n    getMonth(date) {\n      return this.clone(date).month();\n    }\n    /**\n     * @param {?} date\n     * @return {?}\n     */\n\n\n    getDate(date) {\n      return this.clone(date).date();\n    }\n    /**\n     * @param {?} date\n     * @return {?}\n     */\n\n\n    getDayOfWeek(date) {\n      return this.clone(date).day();\n    }\n    /**\n     * @param {?} style\n     * @return {?}\n     */\n\n\n    getMonthNames(style) {\n      // Moment.js doesn't support narrow month names, so we just use short if narrow is requested.\n      return style == 'long' ? this._localeData.longMonths : this._localeData.shortMonths;\n    }\n    /**\n     * @return {?}\n     */\n\n\n    getDateNames() {\n      return this._localeData.dates;\n    }\n    /**\n     * @param {?} style\n     * @return {?}\n     */\n\n\n    getDayOfWeekNames(style) {\n      if (style == 'long') {\n        return this._localeData.longDaysOfWeek;\n      }\n\n      if (style == 'short') {\n        return this._localeData.shortDaysOfWeek;\n      }\n\n      return this._localeData.narrowDaysOfWeek;\n    }\n    /**\n     * @param {?} date\n     * @return {?}\n     */\n\n\n    getYearName(date) {\n      return this.clone(date).format('YYYY');\n    }\n    /**\n     * @return {?}\n     */\n\n\n    getFirstDayOfWeek() {\n      return this._localeData.firstDayOfWeek;\n    }\n    /**\n     * @param {?} date\n     * @return {?}\n     */\n\n\n    getNumDaysInMonth(date) {\n      return this.clone(date).daysInMonth();\n    }\n    /**\n     * @param {?} date\n     * @return {?}\n     */\n\n\n    clone(date) {\n      return date.clone().locale(this.locale);\n    }\n    /**\n     * @param {?} year\n     * @param {?} month\n     * @param {?} date\n     * @return {?}\n     */\n\n\n    createDate(year, month, date) {\n      // Moment.js will create an invalid date if any of the components are out of bounds, but we\n      // explicitly check each case so we can throw more descriptive errors.\n      if (month < 0 || month > 11) {\n        throw Error(`Invalid month index \"${month}\". Month index has to be between 0 and 11.`);\n      }\n\n      if (date < 1) {\n        throw Error(`Invalid date \"${date}\". Date has to be greater than 0.`);\n      }\n      /** @type {?} */\n\n\n      const result = this._createMoment({\n        year,\n        month,\n        date\n      }).locale(this.locale); // If the result isn't valid, the date must have been out of bounds for this month.\n\n\n      if (!result.isValid()) {\n        throw Error(`Invalid date \"${date}\" for month with index \"${month}\".`);\n      }\n\n      return result;\n    }\n    /**\n     * @return {?}\n     */\n\n\n    today() {\n      return this._createMoment().locale(this.locale);\n    }\n    /**\n     * @param {?} value\n     * @param {?} parseFormat\n     * @return {?}\n     */\n\n\n    parse(value, parseFormat) {\n      if (value && typeof value == 'string') {\n        return this._createMoment(value, parseFormat, this.locale);\n      }\n\n      return value ? this._createMoment(value).locale(this.locale) : null;\n    }\n    /**\n     * @param {?} date\n     * @param {?} displayFormat\n     * @return {?}\n     */\n\n\n    format(date, displayFormat) {\n      date = this.clone(date);\n\n      if (!this.isValid(date)) {\n        throw Error('MomentDateAdapter: Cannot format invalid date.');\n      }\n\n      return date.format(displayFormat);\n    }\n    /**\n     * @param {?} date\n     * @param {?} years\n     * @return {?}\n     */\n\n\n    addCalendarYears(date, years) {\n      return this.clone(date).add({\n        years\n      });\n    }\n    /**\n     * @param {?} date\n     * @param {?} months\n     * @return {?}\n     */\n\n\n    addCalendarMonths(date, months) {\n      return this.clone(date).add({\n        months\n      });\n    }\n    /**\n     * @param {?} date\n     * @param {?} days\n     * @return {?}\n     */\n\n\n    addCalendarDays(date, days) {\n      return this.clone(date).add({\n        days\n      });\n    }\n    /**\n     * @param {?} date\n     * @return {?}\n     */\n\n\n    toIso8601(date) {\n      return this.clone(date).format();\n    }\n    /**\n     * Returns the given value if given a valid Moment or null. Deserializes valid ISO 8601 strings\n     * (https://www.ietf.org/rfc/rfc3339.txt) and valid Date objects into valid Moments and empty\n     * string into null. Returns an invalid date for all other values.\n     * @param {?} value\n     * @return {?}\n     */\n\n\n    deserialize(value) {\n      /** @type {?} */\n      let date;\n\n      if (value instanceof Date) {\n        date = this._createMoment(value).locale(this.locale);\n      } else if (this.isDateInstance(value)) {\n        // Note: assumes that cloning also sets the correct locale.\n        return this.clone(value);\n      }\n\n      if (typeof value === 'string') {\n        if (!value) {\n          return null;\n        }\n\n        date = this._createMoment(value, moment.ISO_8601).locale(this.locale);\n      }\n\n      if (date && this.isValid(date)) {\n        return this._createMoment(date).locale(this.locale);\n      }\n\n      return super.deserialize(value);\n    }\n    /**\n     * @param {?} obj\n     * @return {?}\n     */\n\n\n    isDateInstance(obj) {\n      return moment.isMoment(obj);\n    }\n    /**\n     * @param {?} date\n     * @return {?}\n     */\n\n\n    isValid(date) {\n      return this.clone(date).isValid();\n    }\n    /**\n     * @return {?}\n     */\n\n\n    invalid() {\n      return moment.invalid();\n    }\n    /**\n     * Creates a Moment instance while respecting the current UTC settings.\n     * @private\n     * @param {?} date\n     * @param {?=} format\n     * @param {?=} locale\n     * @return {?}\n     */\n\n\n    _createMoment(date, format, locale) {\n      const {\n        strict,\n        useUtc\n      } = this._options || {};\n      return useUtc ? moment.utc(date, format, locale, strict) : moment(date, format, locale, strict);\n    }\n\n  }\n\n  MomentDateAdapter.ɵfac = function MomentDateAdapter_Factory(t) {\n    return new (t || MomentDateAdapter)(ɵngcc0.ɵɵinject(MAT_DATE_LOCALE, 8), ɵngcc0.ɵɵinject(MAT_MOMENT_DATE_ADAPTER_OPTIONS, 8));\n  };\n\n  MomentDateAdapter.ɵprov = /*@__PURE__*/ɵngcc0.ɵɵdefineInjectable({\n    token: MomentDateAdapter,\n    factory: MomentDateAdapter.ɵfac\n  });\n  /** @nocollapse */\n\n  return MomentDateAdapter;\n})();\n\n/*#__PURE__*/\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\nif (false) {\n  /**\n   * @type {?}\n   * @private\n   */\n  MomentDateAdapter.prototype._localeData;\n  /**\n   * @type {?}\n   * @private\n   */\n\n  MomentDateAdapter.prototype._options;\n}\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material-moment-adapter/adapter/moment-date-formats.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * @license\n * Copyright Google LLC All Rights Reserved.\n *\n * Use of this source code is governed by an MIT-style license that can be\n * found in the LICENSE file at https://angular.io/license\n */\n\n/** @type {?} */\n\n\nconst MAT_MOMENT_DATE_FORMATS = {\n  parse: {\n    dateInput: 'l'\n  },\n  display: {\n    dateInput: 'l',\n    monthYearLabel: 'MMM YYYY',\n    dateA11yLabel: 'LL',\n    monthYearA11yLabel: 'MMMM YYYY'\n  }\n};\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material-moment-adapter/adapter/index.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\nlet MomentDateModule = /*#__PURE__*/(() => {\n  class MomentDateModule {}\n\n  MomentDateModule.ɵfac = function MomentDateModule_Factory(t) {\n    return new (t || MomentDateModule)();\n  };\n\n  MomentDateModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: MomentDateModule\n  });\n  MomentDateModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    providers: [{\n      provide: DateAdapter,\n      useClass: MomentDateAdapter,\n      deps: [MAT_DATE_LOCALE, MAT_MOMENT_DATE_ADAPTER_OPTIONS]\n    }]\n  });\n  return MomentDateModule;\n})();\n\n/*#__PURE__*/\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\nconst ɵ0 = MAT_MOMENT_DATE_FORMATS;\nlet MatMomentDateModule = /*#__PURE__*/(() => {\n  class MatMomentDateModule {}\n\n  MatMomentDateModule.ɵfac = function MatMomentDateModule_Factory(t) {\n    return new (t || MatMomentDateModule)();\n  };\n\n  MatMomentDateModule.ɵmod = /*@__PURE__*/ɵngcc0.ɵɵdefineNgModule({\n    type: MatMomentDateModule\n  });\n  MatMomentDateModule.ɵinj = /*@__PURE__*/ɵngcc0.ɵɵdefineInjector({\n    providers: [{\n      provide: MAT_DATE_FORMATS,\n      useValue: ɵ0\n    }],\n    imports: [[MomentDateModule]]\n  });\n  return MatMomentDateModule;\n})();\n\n/*#__PURE__*/\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && void 0;\n})();\n\n/*#__PURE__*/\n(function () {\n  (typeof ngJitMode === \"undefined\" || ngJitMode) && ɵngcc0.ɵɵsetNgModuleScope(MatMomentDateModule, {\n    imports: [MomentDateModule]\n  });\n})();\n/**\n * @fileoverview added by tsickle\n * Generated from: src/material-moment-adapter/public-api.ts\n * @suppress {checkTypes,constantProperty,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc\n */\n\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { MAT_MOMENT_DATE_ADAPTER_OPTIONS, MAT_MOMENT_DATE_ADAPTER_OPTIONS_FACTORY, MAT_MOMENT_DATE_FORMATS, MatMomentDateModule, MomentDateAdapter, MomentDateModule }; //# sourceMappingURL=material-moment-adapter.js.map","map":null,"metadata":{},"sourceType":"module"}